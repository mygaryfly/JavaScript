<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>preventDefault()的用法</title>
    <style>
        .warning {
        border: 2px solid #f39389;
        border-radius: 2px;
        padding: 10px;
        position: absolute;
        background-color: #fbd8d4;
        color: #3b3c40;
        }
    </style>
</head>
<body>
    <p>Please click on the checkbox control.</p>

    <form>
    <label for="id-checkbox">Checkbox:</label>
    <input type="checkbox" id="id-checkbox"/>
    </form>

    <div id="output-box"></div>

    <div class="container">
        <p>Please enter your name using lowercase letters only.</p>
      
        <form>
          <input type="text" id="my-textbox">
        </form>
    </div>
    <script>

    document.querySelector("#id-checkbox").addEventListener("click", function(event) {
         document.getElementById("output-box").innerHTML += "Sorry! <code>preventDefault()</code> won't let you check this!<br>";
         event.preventDefault();
    }, false);

    var myTextbox = document.getElementById('my-textbox');
    myTextbox.addEventListener('keypress', checkName, false);
    function checkName(evt) {
    var charCode = evt.charCode;
    if (charCode != 0) {
        if (charCode < 97 || charCode > 122) {
        evt.preventDefault();
        displayWarning(
            "Please use lowercase letters only."
            + "\n" + "charCode: " + charCode + "\n"
        );
        }
    }
    }

    var warningTimeout;
    var warningBox = document.createElement("div");
    warningBox.className = "warning";

    function displayWarning(msg) {
    warningBox.innerHTML = msg;

    if (document.body.contains(warningBox)) {
        window.clearTimeout(warningTimeout);
    } else {
        // insert warningBox after myTextbox
        myTextbox.parentNode.insertBefore(warningBox, myTextbox.nextSibling);
    }

    warningTimeout = window.setTimeout(function() {
        warningBox.parentNode.removeChild(warningBox);
        warningTimeout = -1;
        }, 2000);
    }
    </script>    
</body>
</html>