<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>变量提升</title>
</head>
<body>
    <table>
        <th>
            <td>Scope</td>
            <td>Activation</td>
            <td>Duplicates</td>
            <td>Global prop.</td>
        </th>

        <tr>
            <td>const</td>
            <td>Block</td>
            <td>decl.(TDZ)</td>
            <td>X</td>
            <td>X</td>
        </tr>

        <tr>
            <td>let</td>
            <td>Block</td>
            <td>decl.(TDZ)</td>
            <td>X</td>
            <td>X</td>
        </tr>
        <tr>
            <td>function</td>
            <td>Block(strict mode)</td>
            <td>start</td>
            <td>Y</td>
            <td>Y</td>
        </tr>
        <tr>
            <td>Class</td>
            <td>Block</td>
            <td>decl.(TDZ)</td>
            <td>X</td>
            <td>X</td>
        </tr>
        <tr>
            <td>import</td>
            <td>Module</td>
            <td>same as export</td>
            <td>X</td>
            <td>X</td>
        </tr>
        <tr>
            <td>var</td>
            <td>fuction</td>
            <td>start, partially</td>
            <td>Y</td>
            <td>Y</td>
        </tr>
    </table>

    <script>
        console.log("这里的X会发生什么？")
        function fn(){
            console.log(x); // 这里会发生什么？
            var x = 5;
        };

        console.log(fn);
        fn();
        console.log("执行fn，发现打印x的结果是" + "undefined");

        // 下一个例子表明暂时死区(TDZ)是真的暂时的（与时间有关）：

        if (true) { // 进入 `myVar` 作用域，TDZ 开始
            const func = () => {
                console.log(myVar); // 稍后执行
            };

            // 我们在 TDZ 中：
            // 访问 `myVar` 造成 `ReferenceError`

            let myVar = 3; // TDZ 结束
            func(); // OK，在 TDZ 外调用
        }

    </script>

</body>
</html>